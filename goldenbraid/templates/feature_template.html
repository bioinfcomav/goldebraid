{% extends "base.html" %}
{% block title %}Feature {{feature.name}} {% endblock title %}
{% block content %}
{% load goldenbraid_extras %}

{% if not feature %}
   <h1> This feature does not exist</h1>
{% else %}
<h1>{{ feature.type.name|capfirst|replaceunderscore }} {{ feature.uniquename }}</h1>
<p><span class='key'>Accession:</span> <span class='value'>{{ feature.uniquename }}</span></p>
<p><span class='key'>Name:</span> <span class='value'>{{ feature.name }}</span></p>
<p><span class='key'>Prefix:</span> <span class='value'>{{ feature.prefix }}</span></p>
<p><span class='key'>Suffix:</span> <span class='value'>{{ feature.suffix }}</span></p>
<p><span class='key'>Genbank_file:</span><a href="{{feature.genbank_file.url}}">{{ feature.name }}</a></p>
<p>You can use your favorite sequence viewer to open the genbank file. We suggest you to use the Snapgene viewer that you can download <a href=http://www.snapgene.com/products/snapgene_viewer target='blank'>here</a>.</p>
{% if feature.description %}
<p><span class='key'>Description:</span> <span class='value'>{{ feature.description }}</span></p>
{% endif %}
 {% if feature.residues %}
  {% include "feature_sequence.html" %}
 {% endif %}
   {% if feature.props %}
   {% for key, values in feature.props.items %}
    {% if key != 'Description'%}
       {% if values|length > 1 %}
           <p><span class='key'>{{ key|capfirst|replaceunderscore}}{{values|pluralize }}:</span></p>
           <ul class='property'>
           {% for value in values %}
            <li><p><span class='value'>{{ value|capfirst|replaceunderscore}}</span></p></li>
           {% endfor %}
           </ul>
       {% else %}
           <p><span class='key'>{{ key|capfirst|replaceunderscore }}:</span> <span class='value'>{{ values|first}}</span></p>

       {% endif %}
    {% endif %}
  {% endfor %}
  {% endif %}
{% endif %}
{% endblock content %}
